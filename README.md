## –¶–µ–π –∑–∞–ø–∏—Ç –∞–Ω–∞–ª—ñ–∑—É—î –¥–∞–Ω—ñ –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ—ó –∫–æ–º–µ—Ä—Ü—ñ—ó –∑ –ø—É–±–ª—ñ—á–Ω–æ–≥–æ –Ω–∞–±–æ—Ä—É –¥–∞–Ω–∏—Ö Google Analytics 4 (GA4) —É BigQuery. –í—ñ–Ω –ø–æ—î–¥–Ω—É—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –ø–æ—á–∞—Ç–æ–∫ —Å–µ–∞–Ω—Å—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é –ø—Ä–æ –ø–æ–¥—ñ—ó, —è–∫—ñ –≤—ñ–¥–±—É–≤–∞—é—Ç—å—Å—è –ø—ñ–¥ —á–∞—Å —Ü–∏—Ö —Å–µ–∞–Ω—Å—ñ–≤, —â–æ–± –Ω–∞–¥–∞—Ç–∏ –∑–±–∞–≥–∞—á–µ–Ω–∏–π –Ω–∞–±—ñ—Ä –¥–∞–Ω–∏—Ö –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É –ø–æ–≤–µ–¥—ñ–Ω–∫–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤.

## –û—Å–Ω–æ–≤–Ω—ñ –º–æ–º–µ–Ω—Ç–∏:

* **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø–∏—Ç—É:** –ó–∞–ø–∏—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –≤–∏—Ä–∞–∑ `WITH`, —â–æ–± –≤–∏–∑–Ω–∞—á–∏—Ç–∏ –¥–≤–∞ –ø—Ä–æ–º—ñ–∂–Ω–∏—Ö —Ä–µ–∑—É–ª—å—Ç—É—é—á—ñ –Ω–∞–±–æ—Ä–∏ (`parameters` —Ç–∞ `events`), –ø–µ—Ä—à –Ω—ñ–∂ –æ–±'—î–¥–Ω–∞—Ç–∏ —ó—Ö –≤ –æ—Å—Ç–∞—Ç–æ—á–Ω–æ–º—É `SELECT`.
* **–í–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Å–µ–∞–Ω—Å—É:** –ó–∞–ø–∏—Ç –≤–∏–∑–Ω–∞—á–∞—î —É–Ω—ñ–∫–∞–ª—å–Ω—ñ —Å–µ–∞–Ω—Å–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤, –ø–æ—î–¥–Ω—É—é—á–∏ `user_pseudo_id` —Ç–∞ `ga_session_id`.
* **–ê—Ç—Ä–∏–±—É—Ü—ñ—è —Ç—Ä–∞—Ñ—ñ–∫—É:** –í—ñ–Ω –≤–∏—Ç—è–≥—É—î –¥–∂–µ—Ä–µ–ª–æ —Ç—Ä–∞—Ñ—ñ–∫—É (Google, Facebook, direct), –∫–∞–Ω–∞–ª (CPC, organic, referral —Ç–æ—â–æ), —Ä–µ–∫–ª–∞–º–Ω—É –∫–∞–º–ø–∞–Ω—ñ—é —Ç–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –ø—Ä–∏—Å—Ç—Ä—ñ–π (–∫–∞—Ç–µ–≥–æ—Ä—ñ—è, –º–æ–≤–∞, –æ–ø–µ—Ä–∞—Ü—ñ–π–Ω–∞ —Å–∏—Å—Ç–µ–º–∞, –±—Ä–µ–Ω–¥ —Ç–æ—â–æ), —â–æ–± –∑—Ä–æ–∑—É–º—ñ—Ç–∏, —è–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –ø–æ—Ç—Ä–∞–ø–ª—è—é—Ç—å –Ω–∞ —Å–∞–π—Ç.
* **–ü–æ–¥—ñ—ó –≤–æ—Ä–æ–Ω–∫–∏:** –ó–∞–ø–∏—Ç –≤–∏–±–∏—Ä–∞—î –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –ø–æ–¥—ñ—ó, —â–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç—å –µ—Ç–∞–ø–∏ –≤–æ—Ä–æ–Ω–∫–∏ –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ—ó –∫–æ–º–µ—Ä—Ü—ñ—ó: `session_start`, `view_item`, `add_to_cart`, `begin_checkout`, `add_shipping_info`, `add_payment_info` —Ç–∞ `purchase`.
* **–û–±'—î–¥–Ω–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö:** –ó–∞–ø–∏—Ç –æ–±'—î–¥–Ω—É—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ —Å–µ–∞–Ω—Å—É –∑ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é –ø—Ä–æ –ø–æ–¥—ñ—é –Ω–∞ –æ—Å–Ω–æ–≤—ñ —É–Ω—ñ–∫–∞–ª—å–Ω–æ–≥–æ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–∞ —Å–µ–∞–Ω—Å—É.
* **–†–µ–∑—É–ª—å—Ç—É—é—á–∏–π –Ω–∞–±—ñ—Ä –¥–∞–Ω–∏—Ö:** –ó–∞–ø–∏—Ç –ø–æ–≤–µ—Ä—Ç–∞—î —Ç–∞–±–ª–∏—Ü—é, —è–∫–∞ –º—ñ—Å—Ç–∏—Ç—å –∫–æ–º–±—ñ–Ω–æ–≤–∞–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –∑ –æ–±–æ—Ö –ø—Ä–æ–º—ñ–∂–Ω–∏—Ö –Ω–∞–±–æ—Ä—ñ–≤, –≤–∫–ª—é—á–∞—é—á–∏ –¥–∞—Ç—É —Å–µ–∞–Ω—Å—É –ø–æ–¥—ñ—ó, –Ω–∞–∑–≤—É –ø–æ–¥—ñ—ó, —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä —Å–µ–∞–Ω—Å—É, —Ü—ñ–ª—å–æ–≤—É —Å—Ç–æ—Ä—ñ–Ω–∫—É (`landing_page` - URL —Å—Ç–æ—Ä—ñ–Ω–∫–∏, –∑ —è–∫–æ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á —Ä–æ–∑–ø–æ—á–∞–≤ —Å–µ—Å—ñ—é), –¥–∂–µ—Ä–µ–ª–æ, –∫–∞–Ω–∞–ª, –∫–∞–º–ø–∞–Ω—ñ—é, –∫–∞—Ç–µ–≥–æ—Ä—ñ—é –ø—Ä–∏—Å—Ç—Ä–æ—é, –º–æ–≤—É –ø—Ä–∏—Å—Ç—Ä–æ—é, –û–° –ø—Ä–∏—Å—Ç—Ä–æ—é, –±—Ä–µ–Ω–¥ –º–æ–±—ñ–ª—å–Ω–æ–≥–æ –ø—Ä–∏—Å—Ç—Ä–æ—é —Ç–∞ –∫—Ä–∞—ó–Ω—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.

## üîç –ü—ñ–¥—Å—É–º–æ–∫: —â–æ —Ä–æ–±–∏—Ç—å —Ü–µ–π –∑–∞–ø–∏—Ç?

–û—Ç—Ä–∏–º—É—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –∫–æ–∂–Ω—É —É–Ω—ñ–∫–∞–ª—å–Ω—É —Å–µ—Å—ñ—é (`parameters`).

–û—Ç—Ä–∏–º—É—î –≤—Å—ñ –≤–∞–∂–ª–∏–≤—ñ –ø–æ–¥—ñ—ó –≤ —Ü—ñ–π —Å–µ—Å—ñ—ó (`events`).

–û–±'—î–¥–Ω—É—î –¥–∞–Ω—ñ –∑–∞ —Å–µ—Å—ñ—î—é (`LEFT JOIN`), —â–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ –ø–æ–≤–Ω–∏–π —à–ª—è—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞:

* –ó–≤—ñ–¥–∫–∏ –≤—ñ–Ω –ø—Ä–∏–π—à–æ–≤ (source, medium, campaign)
* –Ø–∫—É —Å—Ç–æ—Ä—ñ–Ω–∫—É –≤—ñ–¥–∫—Ä–∏–≤ —Å–ø–æ—á–∞—Ç–∫—É (`landing_page`)
* –Ø–∫—ñ –ø–æ–¥—ñ—ó –∑—Ä–æ–±–∏–≤ —É –º–µ–∂–∞—Ö —Å–µ—Å—ñ—ó (`event_name`)

## üìé –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ:

* **–Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç:** SQL (BigQuery)
* **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ —Ç–µ—Ö–Ω—ñ–∫–∏:** CTE, regexp\_extract, JOIN

## üìà –†–µ–∑—É–ª—å—Ç–∞—Ç:

–û—Ç—Ä–∏–º–∞–Ω–∞ —Ç–∞–±–ª–∏—Ü—è –¥–æ–∑–≤–æ–ª—è—î:

* –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ø–æ–≤–µ–¥—ñ–Ω–∫—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –Ω–∞ –≤—Å—ñ—Ö –µ—Ç–∞–ø–∞—Ö –≤–æ—Ä–æ–Ω–∫–∏;
* –¥–æ—Å–ª—ñ–¥–∂—É–≤–∞—Ç–∏ –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –¥–∂–µ—Ä–µ–ª —Ç—Ä–∞—Ñ—ñ–∫—É;
* –±—É–¥—É–≤–∞—Ç–∏ —Å–µ–≥–º–µ–Ω—Ç–∞—Ü—ñ—ó –∑–∞ –ø—Ä–∏—Å—Ç—Ä–æ—è–º–∏, –∫—Ä–∞—ó–Ω–∞–º–∏, –º–æ–≤–∞–º–∏ —Ç–æ—â–æ.


